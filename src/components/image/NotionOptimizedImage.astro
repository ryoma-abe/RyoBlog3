---
import { Image } from "astro:assets";

interface Props {
  src: string;
  alt: string;
  width?: number;
  height?: number;
  caption?: string;
  format?: "webp" | "avif" | "png" | "jpeg";
  quality?: number;
}

const {
  src,
  alt,
  width = 800,
  height = 600,
  caption,
  format = "webp",
  quality = 80,
} = Astro.props;

// Astroの画像コンポーネントで外部URLを使用するために文字列のままsrcを渡す
---

<figure class="my-8">
  <img
    src={src}
    alt={alt}
    width={width}
    height={height}
    loading="lazy"
    decoding="async"
    class="max-w-full h-auto mx-auto rounded-md shadow-md"
  />
  {
    caption && (
      <figcaption
        class="text-center text-sm text-muted-foreground mt-2"
        set:html={caption}
      />
    )
  }
</figure>

<style>
  /* ここに必要なスタイルを追加 */
</style>
