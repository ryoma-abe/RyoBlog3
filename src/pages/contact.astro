---
import Layout from "../layouts/Layout.astro";

// 環境変数からアクセスキーを取得
const WEB3FORMS_ACCESS_KEY = import.meta.env.PUBLIC_WEB3FORMS_ACCESS_KEY;
---

<Layout title="お問い合わせ">
  <div class="max-w-4xl mx-auto px-4 py-8">
    <div class="prose prose-lg max-w-none mb-8">
      <p>
        ご質問、ご意見、お仕事のご依頼などがありましたら、以下のフォームからお気軽にお問い合わせください。
      </p>
    </div>

    <form
      action="https://api.web3forms.com/submit"
      method="POST"
      class="space-y-6 bg-secondary p-6 rounded-lg shadow-md"
    >
      <input type="hidden" name="access_key" value={WEB3FORMS_ACCESS_KEY} />

      <!-- 名前 -->
      <div>
        <label for="name" class="block text-sm font-medium mb-1">お名前</label>
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-transparent"
        />
      </div>

      <!-- メールアドレス -->
      <div>
        <label for="email" class="block text-sm font-medium mb-1"
          >メールアドレス</label
        >
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-transparent"
        />
      </div>

      <!-- 件名 -->
      <div>
        <label for="subject" class="block text-sm font-medium mb-1">件名</label>
        <input
          type="text"
          id="subject"
          name="subject"
          required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-transparent"
        />
      </div>

      <!-- メッセージ -->
      <div>
        <label for="message" class="block text-sm font-medium mb-1"
          >メッセージ</label
        >
        <textarea
          id="message"
          name="message"
          rows="5"
          required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-transparent"
        ></textarea>
      </div>

      <!-- 送信ボタン -->
      <div>
        <button
          type="submit"
          class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition duration-200"
        >
          送信する
        </button>
      </div>

      <!-- Web3Formsのハニーポット -->
      <input
        type="checkbox"
        name="botcheck"
        class="hidden"
        style="display: none;"
      />

      <!-- リダイレクト設定 -->
      <input
        type="hidden"
        name="redirect"
        value="https://web3forms.com/success"
      />

      <!-- サブジェクト設定 -->
      <input
        type="hidden"
        name="subject"
        value="RyoBlogからの新しいお問い合わせ"
      />
    </form>

    <div class="mt-10 prose prose-lg max-w-none">
      <h2 class="text-2xl font-semibold mb-4">その他の連絡方法</h2>
      <p>
        フォーム以外でのお問い合わせをご希望の場合は、以下の方法でもご連絡いただけます：
      </p>
      <ul class="list-disc pl-6 mt-2">
        <li>Email: info@example.com</li>
        <li>Twitter: @yourhandle</li>
        <li>GitHub: github.com/yourusername</li>
      </ul>
    </div>
  </div>
</Layout>
